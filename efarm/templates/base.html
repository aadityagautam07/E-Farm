<!-- This file is the Master Page For the Project -->

{% load static %}

<!DOCTYPE html>
<html lang="en">
<!-- Basic -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Site Metas -->
    <title>Freshshop - Ecommerce Bootstrap 4 HTML Template</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Site Icons -->
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    <link rel="apple-touch-icon" href="{% static 'images/apple-touch-icon.png' %}">


    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <!-- Site CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">

    <!-- For INR Symbol -->
    <script src=”http://cdn.webrupee.com/js” type=”text/javascript”></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" /> 

      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>

    <script type="text/javascript">
        var user = '{{ request.user }}'

        function getToken(name) {
            var cookieValue = null;

            if (document.cookie && document.cookie !== '') {
                var cookies = document.cookie.split(';');

                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want ?
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        var csrftoken = getToken('csrftoken');


        function getCookie(name) {
            // Split cookie string and get all individual name = value pairs in an array
            var cookieArr = document.cookie.split(";");

            // Loop through the array elements
            for (var i = 0; i < cookieArr.length; i++) {
                var cookiePair = cookieArr[i].split("=");


                // Removing whitespace at the beginning of the cookie name 
                // and compare it with the given string
                if (name == cookiePair[0].trim()) {
                    // Decode the cookie value and return 
                    return decodeURIComponent(cookiePair[1]);
                }
            }

            // Return Null if not found
            return null;
        }

        // For Cart 
        var cart = JSON.parse(getCookie('cart'))

        if (cart == undefined) {
            cart = {}
            console.log("Cart Was Created ...", cart)
            document.cookie = 'cart=' + JSON.stringify(cart) + ";domain=;path=/"
        } 

        console.log('Cart:', cart)


        // For Wishtlist
        var wishlist = JSON.parse(getCookie('wishlist'))

        if (wishlist == undefined) {
            wishlist = {}
            console.log("Wishlist Was Created ...", wishlist)
            document.cookie = 'wishlist=' + JSON.stringify(wishlist) + ";domain=;path=/hello"
        } 

        console.log('Wishlist:', wishlist)

    </script>

</head>

<body>
    <!-- Start Main Top -->
    {% include 'inc/header.html' %}
    <!-- End Main Top -->

    <!-- Start Main Top -->
    <!-- Start Top Search -->
    {% include "inc/nav.html" %}
    <!-- End Top Search -->
    <!-- End Main Top -->

    <!-- Messages will be shown here START -->
    {% include "messages.html" %}
    <!-- Messages will be shown here END -->


    <!-- WebPage Content Start -->
    {% block content %}


    {% endblock %}
    <!-- WebPage Content End -->


    <!-- Start Footer  -->
    <!-- Start Instagram Feed  -->
    {% include "inc/footer.html" %}
    <!-- End Instagram Feed  -->
    <!-- End Footer  -->

    <!-- Start copyright  -->
    <!-- <div class="footer-copyright">
        <p class="footer-company">All Rights Reserved. &copy; 2018 <a href="#">ThewayShop</a> Design By :
            <a href="https://html.design/">html design</a>
        </p>
    </div> -->
    <!-- End copyright  -->

    <a href="#" id="back-to-top" title="Back to top" style="display: none;">&uarr;</a>

    <!-- ALL JS FILES -->
    <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- ALL PLUGINS -->
    <script src="{% static 'js/jquery.superslides.min.js' %}"></script>
    <script src="{% static 'js/bootstrap-select.js' %}"></script>
    <script src="{% static 'js/inewsticker.js' %}"></script>
    <script src="{% static 'js/bootsnav.js' %}"></script>
    <script src="{% static 'js/images-loded.min.js' %}"></script>
    <script src="{% static 'js/isotope.min.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/baguetteBox.min.js' %}"></script>
    <script src="{% static 'js/form-validator.min.js' %}"></script>
    <script src="{% static 'js/contact-form-script.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>

    <!-- More Custom Js  -->
    <script type="text/javascript" src="{% static 'customer-static/cart.js' %}"></script>
    <script type="text/javascript" src="{% static 'customer-static/wishlist.js' %}"></script>
    <script type="text/javascript" src="{% static 'accounts-static/js/app.js' %}"></script>
    <script type="text/javascript" src="{% static 'user-dashboard-static/naturix/js/return.js' %}"></script>
</body>

</html>